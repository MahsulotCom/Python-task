{% extends "base.html" %} {% block content %}
<div class="table-container">
  <h1 class="h3 mb-3"><strong>Products</strong> Dashboard</h1>
  <form class="search-form" method="GET" action="">
    <input type="text" name="q" placeholder="Search..." />
    <button type="submit">Search</button>
  </form>
</div>
<table
  id="example"
  class="table table-striped table-bordered"
  style="width: 100%"
>
<form method="GET" action="">
  <div class="form-row align-items-center">
    <div class="col-auto">
      <label for="min_price">Min Price:</label>
      <input type="number" id="min_price" name="min_price" class="form-control" value="{{ min_price }}">
    </div>
    <div class="col-auto">
      <label for="max_price">Max Price:</label>
      <input type="number" id="max_price" name="max_price" class="form-control" value="{{ max_price }}">
    </div>
    <br>
    <div class="col-auto">
      <button type="submit" class="btn btn-primary">Apply Filter</button>
    </div>
  </div>
</form>
<br>

<thead>
    <tr>
        <thead>
    <tr>
        <th><a href="?sort_by=category_asc">Category ▲</a> <a href="?sort_by=category_desc">▼</a></th>
        <th><a href="?sort_by=title_asc">Title ▲</a> <a href="?sort_by=title_desc">▼</a></th>
        <th><a href="?sort_by=description_asc">Description ▲</a> <a href="?sort_by=description_desc">▼</a></th>
        <th><a href="?sort_by=amount_asc">Amount ▲</a> <a href="?sort_by=amount_desc">▼</a></th>
        <th><a href="?sort_by=price_asc">Price ▲</a> <a href="?sort_by=price_desc">▼</a></th>
        <th><a href="#">Images ▲</a> <a href="#">▼</a></th>
        <th><a href="?sort_by=active_asc">Active ▲</a> <a href="?sort_by=active_desc">▼</a></th>
    </tr>
</thead> 
    </tr>
</thead>
  <thead>
    <tr>
      <th>Category</th>
      <th>Title</th>
      <th>Description</th>
      <th>Amount</th>
      <th>Price</th>
      <th>Images</th>
      <th>Active</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for product in products %}
    <tr>
      <td>
        {% for category in product.category.all %} 
        {{ category.title }} ,
        {% if not forloop.last %}
        {% endif %} 
        {% endfor %}
      </td>
      <td>{{ product.title }}</td>
      <td>{{ product.description }}</td>
      <td>{{ product.amount }}</td>
      <td>${{ product.price }}</td>
      <td><img src="{{product.images}}" alt="Product Image" style="max-width: 80px; max-height: 80px;"></td>
      <td>{{ product.active }}</td>
      <td>
        <a href="{% url 'update' product.pk %}">
          <button class="btn btn-warning">UPDATE</button>
        </a>
        <a class="delete-btn" href="{% url 'delete' product.pk %}">
          <button class="btn btn-danger">DELETE</button>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot></tfoot>
</table>
{% endblock content %}
